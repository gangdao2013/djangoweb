<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>db access</title>

<style type="text/css">
	caption {
	padding: 0 0 5px 0;
	width: 450px;
	font: italic 11px "Trebuchet MS", Verdana, Arial, Helvetica, sans-serif;
	text-align: right;
	}
	td {
	border:1px solid #c1dad7;

	padding: 6px 6px 6px 12px;
	color: #4f6b72;
	text-align: center;
	width:150px;
	}
</style>

<script type="text/javascript">
var data=[{name:'xiaox',age:12,gender:'male'},{name:'xiao',age:22,gender:'male'},{name:'hh',age:12,gender:'female'},{name:'ran',age:20,gender:'female'}];

//网页加载完成后执行该onload事件
onload = function(){
	var body=document.getElementsByTagName('body')[0];
	var proxy = "{{ content2 }}"
	body.appendChild(document.createTextNode(proxy))

	body.appendChild(createTable(proxy));
};

//根据传入的json数组创建表格
var createTable = function(data){

	//定义表格
	var table=document.createElement('table');
	table.setAttribute('style','width: 450px;');

	//定义表格标题
	var caption=document.createElement('caption');
	caption.innerHTML ='学生信息表';

	//将标题添加进表格
	table.appendChild(caption);
	//调用createTr()方法生成标题行并将其添加到table中。
	table.appendChild(createTr('姓名','年龄','性别'));
	table.childNodes[1].setAttribute('style','background:#cae8ea;');
	//alert(table.firstChild);
	//for循环json对象,然后将循环到的对象通过createTr()方法生成行，添加到table中
	for(var i=0;i<data.length;i++){
		table.appendChild(createTr(data[i].id,data[i].name,data[i].owner.name));
	}
	return table;
};

//根据用户传过来的变量生成表格中行的方法
var createTr = function(name,age,gender){
	//定义行元素标签
	var tr=document.createElement('tr');
	//定义列元素标签
	var tdName=document.createElement('td');
	//设置该列节点的文本节点的值
	tdName.innerHTML = name;
	var tdAge = document.createElement('td');

	tdAge.innerHTML = age;
	var tdGender = document.createElement('td');

	tdGender.appendChild(document.createTextNode(gender));//等价与 tdGender.innerHTML = gender;
	//将列值添加到行元素节点
	tr.appendChild(tdName);
	tr.appendChild(tdAge);
	tr.appendChild(tdGender);

	//返回生成的行标签
	return tr;
};
</script>

</head>
<body>
    <table align="center" width="150px" border="1" cellpadding="0">
        {% for item in content %}
            <tr >
                <td>{{item.id}}</td>
                <td>{{item.name}}</td>
                <td>{{item.owner.name}}</td>
            </tr>
        {% endfor %}
    </table>
</body>
</html>